<?php

namespace App\Model\Tt;
//共11489字符一共19+2个2018，还有5个2018在其他文件
trait Data
{
    public $findquery_xingzheng = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">begin%20%20zbsp_ZFPZJYJH%28%20%20%20szkjnd=%26gt;%27[MYND]%27%2C%20%20%20szGsdm=%26gt;%27001%27%2C%20%20%20szdzkdm=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szzffsdm=%26gt;%2702%27%2C%20%20%20szdwdm=%26gt;%27[YSDWDM]001%27%2C%20%20%20szYWLX=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szZJXZDM=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szZBLYDM=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20SJQXFX=%26gt;%270100000000%27%2C%20%20%20QYQX=%26gt;0%2C%20%20%20CZYID=%26gt;[CZYID]%20%2C%20%20JHDBGZKZ=%26gt;%270%27%2C%20%20ZBDBGZKZ=%26gt;%271%27%2C%20%20szTJ=%26gt;%27_%27%2C%20%20szKJRQ=%26gt;%27[MYND]0425%27%2C%20%20%20szRQKZ=%26gt;%270%27%2C%20%20%20szYF=%26gt;%271%27%2C%20%20%20szXJBZ=%26gt;%270%27%2C%20%20%20szXJKZ=%26gt;%270%27%2C%20%20%20szYKJHZT=%26gt;%270%27%2C%20%20%20szFXJKZ=%26gt;%270%27%2C%20%20%20szDJKZYS=%26gt;%270001111111011100%27%2C%20%20%20szSelect=%26gt;%27ZJXZDM%2CZBLYDM%2CYSKMDM%2CJFLXDM%2CZCLXDM%2CYSGLLXDM%2CDZKDM%2CXMDM%2CZFFSDM%2CYSDWDM%27%2C%20%20%20szGrp=%26gt;%27B%2EZJXZDM%2CB%2EZBLYDM%2CB%2EYSKMDM%2CB%2EJFLXDM%2CB%2EZCLXDM%2CB%2EYSGLLXDM%2CB%2EDZKDM%2CB%2EXMDM%2CB%2EZFFSDM%2CB%2EYSDWDM%27%2C%20%20%20CXJEKZ=%26gt;%270%27%2C%20%20%20pRecCur=%26gt;:pRecCur%20%29;end%20;%20</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';
    //*********************************************************************
    public $findquery_benji = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">begin%20%20zbsp_ZFPZJYJH%28%20%20%20szkjnd=%26gt;%27[MYND]%27%2C%20%20%20szGsdm=%26gt;%27001%27%2C%20%20%20szdzkdm=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szzffsdm=%26gt;%2702%27%2C%20%20%20szdwdm=%26gt;%27[YSDWDM]000%27%2C%20%20%20szYWLX=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szZJXZDM=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szZBLYDM=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20SJQXFX=%26gt;%270100000000%27%2C%20%20%20QYQX=%26gt;0%2C%20%20%20CZYID=%26gt;[CZYID]%20%2C%20%20JHDBGZKZ=%26gt;%270%27%2C%20%20ZBDBGZKZ=%26gt;%271%27%2C%20%20szTJ=%26gt;%27_%27%2C%20%20szKJRQ=%26gt;%27[MYND]0511%27%2C%20%20%20szRQKZ=%26gt;%270%27%2C%20%20%20szYF=%26gt;%271%27%2C%20%20%20szXJBZ=%26gt;%270%27%2C%20%20%20szXJKZ=%26gt;%270%27%2C%20%20%20szYKJHZT=%26gt;%270%27%2C%20%20%20szFXJKZ=%26gt;%270%27%2C%20%20%20szDJKZYS=%26gt;%270001111111011100%27%2C%20%20%20szSelect=%26gt;%27ZJXZDM%2CZBLYDM%2CYSKMDM%2CJFLXDM%2CZCLXDM%2CYSGLLXDM%2CDZKDM%2CXMDM%2CZFFSDM%2CYSDWDM%27%2C%20%20%20szGrp=%26gt;%27B%2EZJXZDM%2CB%2EZBLYDM%2CB%2EYSKMDM%2CB%2EJFLXDM%2CB%2EZCLXDM%2CB%2EYSGLLXDM%2CB%2EDZKDM%2CB%2EXMDM%2CB%2EZFFSDM%2CB%2EYSDWDM%27%2C%20%20%20CXJEKZ=%26gt;%270%27%2C%20%20%20pRecCur=%26gt;:pRecCur%20%29;end%20;%20</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';
    /*=====  End of findquery  ======*/

    private $RZ_data = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">%20begin%20%20%20declare%20maxNo%20int;%20%20%20begin%20%20%20%20%20%20Select%20nvl%28Max%28no%29%2C0%29%2B1%20into%20maxNo%20from%20ZB_czrz%20%20%20where%20station%20like%20%27WAK%2D20170810HGB%25%27%20;%20%20%20%20insert%20into%20ZB_czrz%28station%2C%20no%2C%20name%2C%20%26quot;DATE%26quot;%2C%20zwrq%2C%20qssj%2C%20zzsj%2C%20cznr%2Ccznrkz%29%20%20%20%20values%20%28%27WAK%2D20170810HGB_10%2E111%2E102%2E93%27%2CmaxNo%2C%27%BF%B5%BD%F0%D4%C6%27%2C%20TO_CHAR%28SYSDATE%2C%27YYYYMMDD%27%29%2C%27[MYND]0516%27%20%20%20%20%2CTO_CHAR%28SYSDATE%2C%27HH24:MI:SS%27%29%2CTO_CHAR%28SYSDATE%2C%27HH24:MI:SS%27%29%2C%27[%CA%DA%C8%A8%D6%A7%B8%B6%C6%BE%D6%A4][%D0%C2%D4%F6][001%2C[MYND]%2C[MYND]05%2C21886]%27%2C%27%27%29%20;%20%20%20%20%20commit;%20%20%20%20%20%20open%20:pRecCur%20for%20select%20maxNo%20NewNo%20from%20dual;%20%20%20%20end;%20end;</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';

    private $FJ_data = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">Begin%20%20%20delete%20from%20ZB_ZFPZFJ%20where%20%20%20%20%20%20GSDM=%27001%27%20%20and%20KJND=%27[MYND]%27%20%20and%20PDQJ=%27[MYND]04%27%20%20and%20ZFLB=%270%27%20%20and%20PDH=21886%20;%20%20commit%20;%20%20%20open%20:pRecCur%20for%20select%200%20ierrCount%20from%20dual;%20Exception%20when%20others%20then%20RollBack%20;%20end;%20</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';

    private $zhibiao_sql = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">Select%20a%2E%2A%2C%28case%20%20when%20substr%28a%2Edybz%2C1%2C1%29=%271%27%20then%20%27%D2%D1%B4%F2%D3%A1%27%20else%20%20%27%CE%B4%B4%F2%D3%A1%27%20end%29%20DYBZ1%20From%20ZB_VIEW_MXZB%20a%20%20%20%20where%20%20%20GSDM=%27001%27%20%20and%20KJND=%27[MYND]%27%20%20and%20%28MXZBLB=%270%27%20or%20MXZBLB=%272%27%29%20%20and%20%28YSDWDM%20IN%20%28%27[YSDWDM]000%27%2C%27[YSDWDM]001%27%2C%27[YSDWDM]002%27%2C%27[YSDWDM]003%27%2C%27[YSDWDM]004%27%2C%27[YSDWDM]005%27%2C%27[YSDWDM]006%27%2C%27[YSDWDM]007%27%2C%27[YSDWDM]008%27%2C%27[YSDWDM]009%27%2C%27[YSDWDM]010%27%2C%27[YSDWDM]011%27%2C%27[YSDWDM]012%27%2C%27[YSDWDM]013%27%29%20or%20YSDWDM=%27_%27%29%20%20and%20%28Fwrq%20between%20%27[MYND]0101%27%20and%20%27[MYND]0728%27%29%20%20and%20MXZBBH%20between%20%271%27%20%20and%20%20%2799999999%27%20%20order%20by%20GSDM%2CKJND%2CMXZBBH%2CMXZBWH%2CMXZBXH</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';

    private $zfpz = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">Select%20to_char%28rownum%29%20XH%2Ca%2E%2A%2CSUBSTR%28a%2EDJSHBZ%2C4%2C1%29%20PZZT%2C%20decode%28SUBSTR%28a%2Ejkzt%2C2%2C1%29%2C%271%27%2C%27%D2%D1%C8%B7%C8%CF%27%2C%270%27%2C%27%CE%B4%C8%B7%C8%CF%27%29%20YHQR%20From%20ZB_VIEW_ZFPZ%20A%20where%20GSDM=%27001%27%20and%20KJND=%27[MYND]%27%20and%20pdrq%26gt;=%27[MYND]0101%27%20and%20pdrq%26lt;=%27[MYND]0728%27%20%20and%20%28YSDWDM%20IN%20%28%27[YSDWDM]000%27%2C%27[YSDWDM]001%27%2C%27[YSDWDM]002%27%2C%27[YSDWDM]003%27%2C%27[YSDWDM]004%27%2C%27[YSDWDM]005%27%2C%27[YSDWDM]006%27%2C%27[YSDWDM]007%27%2C%27[YSDWDM]008%27%2C%27[YSDWDM]009%27%2C%27[YSDWDM]010%27%2C%27[YSDWDM]011%27%2C%27[YSDWDM]012%27%2C%27[YSDWDM]013%27%29%20or%20YSDWDM=%27_%27%29%20%20%20and%20to_number%28pdh%29%20between%20%271%27%20%20and%20%20%27999999%27%20%20%20order%20by%20PDQJ%2CPDH%2CPDXH</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';

    private $mysql = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">mysql</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';

    private $shenqingsql = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">begin%20%20ZBSP_KYZBJE%28%20%20%20szKJND=%26gt;%27[MYND]%27%2C%20%20%20%20szGsdm=%26gt;%27001%27%2C%20%20%20%20szDzk=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20%20szdwdm=%26gt;%27[YSDWDM]001%27%2C%20%20%20%20szZjxz=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20%20szWH=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20%20szYWLX=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20%20szzffsdm=%26gt;%27%27%2C%20%20%20%20SJQXFX=%26gt;%270100000000%27%2C%20%20%20%20QYQX=%26gt;0%2C%20%20%20%20CZYID=%26gt;[CZYID]%2C%20%20%20%20%20ZBDBGZKZ=%26gt;%271%27%2C%20%20%20szJHRQ=%26gt;%27[MYND]1207%27%2C%20%20%20ZBLYXT=%26gt;%272%27%2C%20%20%20%20szDJKZYS=%26gt;%270101111011010100%27%2C%20%20%20%20szSelect=%26gt;%27ZJXZDM%2CZBLYDM%2CYSKMDM%2CJFLXDM%2CYSGLLXDM%2CDZKDM%2CXMDM%2CYSDWDM%27%2C%20%20%20%20szGrp=%26gt;%27A%2EZJXZDM%2CA%2EZBLYDM%2CA%2EYSKMDM%2CA%2EJFLXDM%2CA%2EYSGLLXDM%2CA%2EDZKDM%2CA%2EXMDM%2CA%2EYSDWDM%27%2C%20%20%20%20szShowZero=%26gt;%270%27%2C%20%20%20%20szDJLX=%26gt;%27JH%27%2C%20%20%20%20pRecCur=%26gt;:pRecCur%20%29;end%20;%20</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';


public $sqmoban =<<<EOF
<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">begin  declare   ierrCount smallint;   szDjBh Varchar(20);   iRowCount smallint ;   iFlen int ;  begin   declare     iPDh int ;     szRBH  char(6) ;     TempExp Exception ;   begin  delete from zb_zfpzdjbh;  select nvl(Length(''),0) into iFlen from dual;  select nvl(max(Substr(djbh,1,6)),'_') into szDJBH  from ZB_VIEW_ZFPZ_BB  Where      Gsdm='001'  and KJND='[MYND]'  and ZFFSDM='02'  and length(djbh) &gt;= 6;  if  szDJBH='_' then select '000001' into szDJBH from dual ; else    if Length(rtrim(szDJBH)) = nvl(Length(''),0) + 6   then       select Substr(szDJBH,iFlen+1,6) into szRBH from dual ;     select to_char(to_number(szRBH)+1) into szRBH from dual ;      while Length(LTrim(RTrim(szRBH)))&lt;6 Loop          select '0' || LTrim(RTrim(szRBH)) into szRBH from dual ;      end Loop ;   select Rtrim('' || szRBH)  into szDJBH from dual ;  else  select '000001' into szDJBH from dual ; end if ;  end if;  select  max(to_number(pdh)) into iPdh  from ZB_ZFPZML_Y  where gsdm='001'    and kjnd='[MYND]' ;  if iPDh is null then select 0 into iPDh from dual; end if;   insert into ZB_ZFPZDJBH values(szDJBH); insert into ZB_ZFPZML_Y(    Gsdm,Kjnd,Pdqj,Pdh,zflb,Djbh,xjbz,zphm,Pdrq,Dzkdm,Ysdwdm,    Fkrdm,Fkr,Fkryhbh,Fkzh,Fkrkhyh,Fkyhhh,PJPCHM,    Skrdm,Skr,Skryhbh,Skzh,Skrkhyh,Skyhhh,    Zy,FJS,lrr_ID,lrr,lr_rq,dwshr_id,dwshr,dwsh_rq,cxbz,bz2,zt,dybz,ZZPZ) select tawenxi1 from zb_zfpzdjbh ;   insert into ZB_ZFPZNR_Y(    Gsdm,Kjnd,JHID,ZBID,Pdqj,Pdh,pdxh,zflb,LINKID,zjxzdm,jsfsdm,Yskmdm,Jflxdm,zffsdm,zclxdm,ysgllxdm,zblydm,xmdm,SJWH,BJWH,YWLXDM,XMFLDM,KZZLDM1,KZZLDM2,zbje,yyzbje,kyzbje,JE) values ( tawenxi2)  ;  Insert Into ZB_ZFPZNR_Y_MC(GSDM,KJND,ZFLB,PDH,PDQJ,JSFSMC,NEWDYBZ,NEWZZPZ,NEWCXBZ,NEWPZLY,NEWZT,PDXH,DZKMC,XMMC,XMFLMC,YSDWMC,YSDWQC,YWLXMC,ZFFSMC,MXZBWH,MXZBXH,ZBLYMC,ZJXZMC,YSKMMC,YSKMQC,JFLXMC,JFLXQC,ZCLXMC,YSGLLXMC,KZZLMC1,KZZLMC2) Values(tawenxi3);      commit;     select iPDh+1 into ierrCount from dual ;    Exception     when others then       RollBack;       select 0 into ierrCount from dual ;   end ;   Open :pRecCur for     select ierrCount RES,szDJBH DJBH from dual;  end; end; </DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>
EOF
; 


public $zhijie_zhifu_data = '<?xml version="1.0" encoding="GB2312"?><R9PACKET version="1"><SESSIONID></SESSIONID><R9FUNCTION><NAME>AS_DataRequest</NAME><PARAMS><PARAM><NAME>ProviderName</NAME><DATA format="text">DataSetProviderData</DATA></PARAM><PARAM><NAME>Data</NAME><DATA format="text">begin%20%20zbsp_ZFPZJYJH%28%20%20%20szkjnd=%26gt;%27[MYND]%27%2C%20%20%20szGsdm=%26gt;%27001%27%2C%20%20%20szdzkdm=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szzffsdm=%26gt;%2701%27%2C%20%20%20szdwdm=%26gt;%27%25%27%2C%20%20%20szYWLX=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szZJXZDM=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20szZBLYDM=%26gt;%27%C8%AB%B2%BF%27%2C%20%20%20SJQXFX=%26gt;%270100000000%27%2C%20%20%20QYQX=%26gt;0%2C%20%20%20CZYID=%26gt;[CZYID]%20%2C%20%20JHDBGZKZ=%26gt;%270%27%2C%20%20ZBDBGZKZ=%26gt;%271%27%2C%20%20szTJ=%26gt;%27_%27%2C%20%20szKJRQ=%26gt;%27[MYND]0408%27%2C%20%20%20szRQKZ=%26gt;%270%27%2C%20%20%20szYF=%26gt;%274%27%2C%20%20%20szXJBZ=%26gt;%270%27%2C%20%20%20szXJKZ=%26gt;%270%27%2C%20%20%20szYKJHZT=%26gt;%270%27%2C%20%20%20szFXJKZ=%26gt;%270%27%2C%20%20%20szDJKZYS=%26gt;%270001111111011100%27%2C%20%20%20szSelect=%26gt;%27ZJXZDM%2CZBLYDM%2CYSKMDM%2CJFLXDM%2CZCLXDM%2CYSGLLXDM%2CDZKDM%2CXMDM%2CZFFSDM%2CYSDWDM%27%2C%20%20%20szGrp=%26gt;%27B%2EZJXZDM%2CB%2EZBLYDM%2CB%2EYSKMDM%2CB%2EJFLXDM%2CB%2EZCLXDM%2CB%2EYSGLLXDM%2CB%2EDZKDM%2CB%2EXMDM%2CB%2EZFFSDM%2CB%2EYSDWDM%27%2C%20%20%20CXJEKZ=%26gt;%270%27%2C%20%20%20pRecCur=%26gt;:pRecCur%20%29;end%20;%20</DATA></PARAM></PARAMS></R9FUNCTION></R9PACKET>';



    public function findquery_xingzheng()
    {
        $data = str_replace(['[YSDWDM]','[CZYID]','[MYND]'] ,
                            [env('YSDWDM','901012'),env('CZYID','913'),config('app.MYND')], 
                            $this->findquery_xingzheng);

        return $data;
    }

    public function findquery_benji()
    {
        $data = str_replace(['[YSDWDM]','[CZYID]','[MYND]'] ,
                            [env('YSDWDM','901012'),env('CZYID','913'),config('app.MYND')], 
                            $this->findquery_benji);

        return $data;
    }

    public function RZ_data()
    {
        $data = str_replace('[MYND]' ,config('app.MYND'), $this->RZ_data);

        return $data;
    }

    public function FJ_data()
    {
        $data = str_replace('[MYND]' ,config('app.MYND'), $this->FJ_data);

        return $data;
    }

    public function zhibiao_sql()
    {
        $data = str_replace(['[YSDWDM]','[MYND]','0728'],
                            [env('YSDWDM','901012'), config('app.MYND'),config('app.END')], 
                            $this->zhibiao_sql);

        return $data;
    }

    public function zfpz()
    {
        $data = str_replace(['[YSDWDM]','[MYND]','0728'],
                            [env('YSDWDM','901012'), config('app.MYND'),config('app.END')], 
                            $this->zfpz);

        return $data;
    }

    public function shenqingsql()
    {
        $data = str_replace(['[YSDWDM]','[CZYID]','[MYND]'] ,
                            [env('YSDWDM','901012'),env('CZYID','913'),config('app.MYND')], 
                            $this->shenqingsql);

        return $data;
    }

    public function sqmoban()
    {
        $data = str_replace('[MYND]' ,config('app.MYND'), $this->sqmoban);

        return $data;
    }


    public function zhijie_zhifu_data()
    {
        $data = str_replace(['[CZYID]','[MYND]'] ,
                            [env('CZYID','913'),config('app.MYND')], 
                            $this->zhijie_zhifu_data);

        return $data;
    }



}